<!DOCTYPE html>
<html lang="{{ .Params.Language | default "en" }}">
    {{- partial "head.html" . -}}
    <body itemscope itemtype="https://schema.org/WebPage">
        <script type="text/javascript">
            (function () {
                var currentTheme = localStorage.getItem("theme");
                if (currentTheme == "dark") document.body.classList.toggle("dark-mode");
                else if (currentTheme == "light") document.body.classList.toggle("light-mode");
            })();
        </script>
        {{- partial "header.html" . -}}
        {{- block "main" . }}{{- end }}
        {{- partial "footer.html" . -}}
        {{ $built := resources.Get "js/main.js" | js.Build "main.js" }}
        {{ if hugo.IsProduction }}
            {{ $built = $built | resources.Minify | resources.PostProcess }}
        {{ end }}
        <script type="text/javascript" src="{{ $built.RelPermalink }}"></script>

        {{ range .Params.custom_scripts }}
            <script type="text/javascript" src="{{ . }}"></script>
        {{ end }}
    </body>
</html>
